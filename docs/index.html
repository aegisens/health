<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Aegisens | Health That Senses You</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        /* ===== GLOBAL STYLES ===== */
        * { margin: 0; padding: 0; box-sizing: border-box; font-family: 'Segoe UI', system-ui, sans-serif; }
        body {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%) fixed;
            min-height: 100vh; color: white; line-height: 1.6;
        }
        .container { max-width: 1200px; margin: 0 auto; padding: 0 20px; }

        /* ===== HEADER ===== */
        .header {
            padding: 1.5rem 0; background: rgba(255, 255, 255, 0.08);
            backdrop-filter: blur(10px); border-bottom: 1px solid rgba(255, 255, 255, 0.1);
        }
        .header .container { display: flex; justify-content: space-between; align-items: center; }
        .logo { font-size: 1.8rem; font-weight: 800; color: #ffffff; text-decoration: none; display: flex; align-items: center; gap: 10px; }
        .logo i { color: #a3bffa; }
        .logo .slogan { font-size: 0.9rem; font-weight: 300; color: rgba(255, 255, 255, 0.7); margin-left: 0.5rem; }
        .nav a { color: rgba(255, 255, 255, 0.85); text-decoration: none; margin-left: 2rem; transition: color 0.3s; font-weight: 500; }
        .nav a:hover { color: #ffffff; }

        /* ===== HERO SECTION ===== */
        .hero {
            min-height: 90vh; display: flex; align-items: center; padding: 4rem 2rem;
            position: relative; overflow: hidden;
        }
        .hero-bg {
            position: absolute; top: -50%; right: -30%; width: 80%; height: 200%;
            background: radial-gradient(circle, rgba(163, 191, 250, 0.15) 0%, transparent 70%); z-index: 0;
        }
        .hero-grid {
            max-width: 1200px; margin: 0 auto; display: grid; grid-template-columns: 1fr 1fr;
            gap: 4rem; align-items: center; position: relative; z-index: 1;
        }
        /* Central Brand Name */
        .brand-main {
            font-size: 4.5rem; font-weight: 900; color: #B87333; line-height: 1;
            margin-bottom: 0.5rem; letter-spacing: -1px; text-align: center;
        }
        .hero-text h1 {
            font-size: 3.5rem; font-weight: 800; line-height: 1.1; color: #B5838D;
            margin-bottom: 2rem; text-align: center;
        }
        .hero-text h1 span.voice { color: #B5838D; }
        .hero-text h1 span.rhythm { color: #B5838D; }
        .hero-text .subtitle {
            font-size: 1.5rem; line-height: 1.6; color: rgba(255, 255, 255, 0.9);
            margin-bottom: 3rem; text-align: center;
        }
        .cta-buttons {
            display: flex; gap: 1rem; flex-wrap: wrap; margin-bottom: 1.5rem;
            justify-content: center;
        }
        .btn-primary {
            display: inline-block; background: linear-gradient(90deg, #ffb8d9 0%, #a3bffa 100%);
            color: #2d1b69; padding: 1.2rem 3rem; font-size: 1.2rem; font-weight: bold;
            border-radius: 50px; text-decoration: none;
            box-shadow: 0 6px 20px rgba(255, 184, 217, 0.4);
            transition: transform 0.3s, box-shadow 0.3s;
        }
        .btn-primary:hover { transform: translateY(-3px); box-shadow: 0 10px 25px rgba(255, 184, 217, 0.6); }
        .btn-secondary {
            display: inline-block; border: 2px solid rgba(255, 255, 255, 0.5);
            color: rgba(255, 255, 255, 0.9); padding: 1.2rem 2.5rem;
            font-size: 1.2rem; font-weight: 600; border-radius: 50px;
            text-decoration: none; transition: all 0.3s; background: transparent;
        }
        .btn-secondary:hover { background: rgba(255, 255, 255, 0.1); border-color: #ffffff; color: #ffffff; }
        .hero-note {
            color: rgba(255, 255, 255, 0.7); font-size: 0.95rem; text-align: center;
        }
/* ===== WAITLIST CARD ===== */
        .waitlist-card {
            background: rgba(255, 255, 255, 0.92); backdrop-filter: blur(10px);
            border-radius: 20px; padding: 3rem; border: 1px solid rgba(255, 255, 255, 0.3);
            box-shadow: 0 15px 40px rgba(0, 0, 0, 0.2); color: #5a4a6a;
        }
        .waitlist-card h3 { font-size: 1.8rem; font-weight: bold; color: #5a4a6a; margin-bottom: 1rem; text-align: center; }
        .waitlist-card p { color: #8a7a9c; margin-bottom: 2rem; text-align: center; }
        /* Live Counter Styling */
        .counter-container {
            text-align: center; margin-bottom: 2rem; padding: 1.5rem;
            background: rgba(255, 255, 255, 0.05); border-radius: 16px;
        }
        .counter-number {
            font-size: 3.5rem; font-weight: 800; color: #B87333; line-height: 1;
            transition: opacity 0.3s ease;
        }
        .counter-label { color: #5a4a6a ); font-size: 1.1rem; margin-top: 0.5rem; }
        .counter-incentive {
            color: #a3bffa; font-size: 0.95rem; margin-top: 0.75rem; font-weight: 600;
        }
        .counter-incentive i { margin-right: 5px; }
        /* Form Styles */
        #waitlist-form { display: flex; flex-direction: column; gap: 1rem; }
        #waitlist-form input {
            padding: 1rem; border-radius: 12px; border: 1px solid #e1d5ed;
            background: #faf7fc; color: #5a4a6a; font-size: 1rem;
        }
        #waitlist-form button {
            background: linear-gradient(90deg, #ffb8d9 0%, #a3bffa 100%);
            color: #2d1b69; border: none; padding: 1rem; border-radius: 12px;
            font-size: 1.1rem; font-weight: bold; cursor: pointer; transition: background 0.3s;
        }
        #waitlist-form button:hover { background: linear-gradient(90deg, #f5a5cc 0%, #8daef5 100%); }
        .form-note { color: #b8abc6; font-size: 0.9rem; margin-top: 1.5rem; text-align: center; }

        /* ===== VISION SECTION ===== */
        .section { margin-top: 5rem; padding: 3rem 0; }
        .section h2 { text-align: center; color: #5a4a6a; font-size: 2.5rem; margin-bottom: 3rem; }
        .vision-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); gap: 2rem; }
        .vision-card {
            background: rgba(255, 255, 255, 0.92); backdrop-filter: blur(10px);
            border-radius: 16px; padding: 2rem; border: 1px solid rgba(255, 255, 255, 0.3);
            box-shadow: 0 8px 25px rgba(0, 0, 0, 0.15); transition: transform 0.3s, box-shadow 0.3s;
            color: #5a4a6a;
        }
        .vision-card:hover { transform: translateY(-8px); box-shadow: 0 15px 35px rgba(0, 0, 0, 0.25); }
        .vision-icon { font-size: 2.5rem; margin-bottom: 1rem; }
        .vision-card h3 { color: #a3bffa; margin-bottom: 1rem; }
        .vision-card p { color: #8a7a9c; }
        .launch-tag {
            display: inline-block; background: rgba(163, 191, 250, 0.2); color: #a3bffa;
            padding: 0.3rem 0.8rem; border-radius: 20px; font-size: 0.8rem; margin-top: 1rem;
        }

        /* ===== FOUNDER SECTION ===== */
        .founder-section {
            background: linear-gradient(135deg, rgba(181, 131, 141, 0.08) 0%, rgba(255, 250, 252, 0.04) 100%) !important;
        }
        .founder-container {
            display: grid; grid-template-columns: 1fr 2fr; gap: 3rem; align-items: center;
        }
        .founder-image { text-align: center; }
        .founder-image .avatar {
            width: 200px; height: 200px; border-radius: 50%;
            background: linear-gradient(135deg, #ffb8d9, #a3bffa);
            margin: 0 auto 1.5rem; display: flex; align-items: center; justify-content: center;
            font-size: 4rem; color: #ffffff;
}
        .founder-info h3 { font-size: 2rem; color: #ffffff; margin-bottom: 1rem; }
        .founder-info .title { color: #ffb8d9; font-size: 1.2rem; margin-bottom: 2rem; }
        .founder-bio { color: rgba(255, 255, 255, 0.85); font-size: 1.1rem; line-height: 1.7; }
        .founder-bio p { margin-bottom: 1.5rem; }

        /* ===== VIDEO DEMO PLACEHOLDER ===== */
        #demo-placeholder {
            text-align: center; padding: 3rem; margin-top: 3rem;
            background: rgba(0, 0, 0, 0.2); border-radius: 20px; border: 2px dashed rgba(255, 255, 255, 0.3);
        }
        .demo-icon { font-size: 4rem; color: #a3bffa; margin-bottom: 1rem; }
        .demo-placeholder-text { color: rgba(255, 255, 255, 0.8); font-size: 1.2rem; margin-top: 1rem; }

        /* ===== FOOTER ===== */
        .footer {
            border-top: 1px solid rgba(255, 255, 255, 0.1); padding: 3rem 0;
            margin-top: 4rem; text-align: center; color: rgba(255, 255, 255, 0.7);
        }
        .footer-links { display: flex; justify-content: center; gap: 2rem; margin-bottom: 2rem; }
        .footer-links a { color: rgba(255, 255, 255, 0.8); text-decoration: none; transition: color 0.3s; }
        .footer-links a:hover { color: #ffffff; }

        /* ===== RESPONSIVE DESIGN ===== */
        @media (max-width: 992px) {
            .hero-grid { grid-template-columns: 1fr; gap: 3rem; }
            .hero-text h1, .brand-main { font-size: 3rem; }
            .founder-container { grid-template-columns: 1fr; text-align: center; }
        }
        @media (max-width: 768px) {
            .header .container { flex-direction: column; gap: 1rem; }
            .nav { margin-top: 1rem; }
            .nav a { margin: 0 1rem; }
            .hero { padding: 3rem 1rem; }
            .hero-text h1, .brand-main { font-size: 2.5rem; }
            .hero-text .subtitle { font-size: 1.2rem; }
            .cta-buttons { flex-direction: column; align-items: center; }
            .btn-primary, .btn-secondary { width: 100%; max-width: 300px; text-align: center; }
            .vision-grid { grid-template-columns: 1fr; }
            .counter-number { font-size: 2.8rem; }
        }
    <style>
/* ===== HEADER ===== */
.header {
    padding: 1rem 0; 
    background: rgba(255, 255, 255, 0.08);
    backdrop-filter: blur(10px); 
    border-bottom: 1px solid rgba(255, 255, 255, 0.1);
}

.header .container { 
    display: flex; 
    justify-content: space-between; 
    align-items: center; 
    padding: 0 1.5rem;
}

/* ===== LOGO ===== */
a.logo .logo-text-content .logo-text {
    font-size: 1.7rem; /* POWIƒòKSZONY - teraz wiƒôkszy */
    font-weight: 900; /* POGRUBIONY */
    color: #ffffff;
    white-space: nowrap;
    margin-bottom: 4px;
    line-height: 1;
    text-align: center; /* Wy≈õrodkowanie */
    display: block; /* Blokowy dla centrowania */
    width: 100%; /* Zajmuje ca≈ÇƒÖ szeroko≈õƒá kontenera */
}

a.logo .logo-text-content .slogan { 
    font-size: 1.2rem; /* POMNIEJSZONY - teraz mniejszy */
    font-weight: 700; /* Normalna waga */
    color: rgba(255, 255, 255, 0.95); 
    font-style: italic;
    letter-spacing: 0.5px;
    white-space: nowrap;
    line-height: 1.1;
    text-align: center; /* Wy≈õrodkowanie */
    display: block; /* Blokowy dla centrowania */
    margin-top: 2px; /* Odstƒôp od logo-text */
    width: 100%; /* Zajmuje ca≈ÇƒÖ szeroko≈õƒá kontenera */
}

/* Upewnij siƒô, ≈ºe kontener jest wy≈õrodkowany */
.logo-text-content {
    display: flex;
    flex-direction: column;
    align-items: center; /* Wy≈õrodkowanie w poziomie */
    justify-content: center; /* Wy≈õrodkowanie w pionie */
    text-align: center; /* Dodatkowe centrowanie tekstu */
}

/* RESPONSYWNO≈öƒÜ Z WIƒòKSZƒÑ SPECYFICZNO≈öCIƒÑ */
@media (max-width: 1024px) {
    a.logo .logo-text-content .logo-text {
        font-size: 1.5rem;
    }
    
    a.logo .logo-text-content .slogan {
        font-size: 1.1rem;
    }
}

@media (max-width: 768px) {
    /* POPRAWIENIE DLA TELEFONU - TEKST NA ≈öRODKU */
    a.logo .logo-text-content .logo-text {
        font-size: 1.5rem;
        white-space: normal;
        text-align: center !important; /* Wymuszenie centrowania */
        width: 100%;
        margin-left: 0;
        margin-right: 0;
    }
    
    a.logo .logo-text-content .slogan {
        font-size: 1rem;
        white-space: normal;
        letter-spacing: 0.3px;
        text-align: center !important; /* Wymuszenie centrowania */
        width: 100%;
        margin-left: 0;
        margin-right: 0;
    }
    
    /* NAJWA≈ªNIEJSZA ZMIANA: logo-text-content NA ≈öRODKU */
    .logo-text-content {
        align-items: center !important; /* WYMUSZENIE centrowania */
        text-align: center !important;
        justify-content: center;
        width: 100%;
    }
}

@media (max-width: 480px) {
    a.logo .logo-text-content .logo-text {
        font-size: 1.1rem;
        text-align: center !important;
    }
    
    a.logo .logo-text-content .slogan {
        font-size: 0.95rem;
        font-weight: 600;
        text-align: center !important;
    }
}

@media (max-width: 360px) {
    a.logo .logo-text-content .logo-text {
        font-size: 1rem;
        text-align: center !important;
    }
    
    a.logo .logo-text-content .slogan {
        font-size: 0.85rem;
        text-align: center !important;
    }
}

/* ===== NAVIGATION ===== */
.nav a { 
    color: rgba(255, 255, 255, 0.85); 
    text-decoration: none; 
    margin-left: 1.5rem; 
    transition: color 0.3s; 
    font-weight: 500; 
}

.nav a:hover { 
    color: #ffffff; 
}

/* ===== RESPONSYWNO≈öƒÜ - TELEFON ===== */
@media (max-width: 768px) {
    .header {
        padding: 0.8rem 0;
    }
    
    .header .container {
        padding: 0 1rem;
        flex-direction: column;
        gap: 0.8rem;
        align-items: stretch;
    }
    
    /* LOGO UK≈ÅAD - KOREKTA */
    .logo {
        flex-direction: row;
        text-align: center; /* ZMIANA: center zamiast left */
        gap: 15px;
        width: 100%;
        justify-content: center; /* ZMIANA: center zamiast flex-start */
        align-items: center; /* Wy≈õrodkowanie pionowe */
    }
    
    .logo-image {
        height: 135px;
        margin: 0;
        flex-shrink: 0; /* Zapobiega zmniejszaniu */
    }
    
    /* USU≈É LUB ZAKOMENTUJ TE LINIJKI, BO PRZESUWAJƒÑ TEKST W LEWO: */
    /*
    .logo-text-content {
        align-items: flex-start;
        text-align: left;
    }
    */
    
    /* ZAMIAST TEGO DODAJ: */
    .logo-text-content {
        align-items: center !important;
        text-align: center !important;
        justify-content: center;
        flex: 1; 
    }
    
    .nav {
        margin-top: 0.5rem;
        display: flex;
        justify-content: center;
        flex-wrap: wrap;
        gap: 0.8rem;
    }
    
    .nav a {
        margin: 0;
        font-size: 0.9rem;
        padding: 0.3rem 0.5rem;
    }
}
</style>
<link rel="icon" type="image/png" href="/image/favicon.png">
</head>
<body>
   <!-- HEADER -->
    <header class="header">
        <div class="container">
            <a href="/" class="logo">
                <img src="/image/logo.png" alt="Aegisens Logo" class="logo-image">
                <div class="logo-text-content">
                    <span class="logo-text">Aegisens</span>
                    <span class="slogan">Health That Senses You</span>
                </div>
            </a>
            <nav class="nav">
                <a href="#vision">Vision</a>
                <a href="#waitlist">Waitlist</a>
                <a href="#founder">Founder</a>
            </nav>
        </div>
    </header>

    <!-- HERO SECTION -->
    <section class="hero">
        <div class="hero-bg"></div>
        <div class="container hero-grid">
            <div class="hero-text">
                <!-- CENTRAL BRAND NAME -->
                <div class="brand-main">Aegisens</div>
                <h1>
                    An AI that <span class="voice">listens to your voice</span><br>
                    and understands your <span class="rhythm">hormonal rhythms</span>.
                </h1>
                <p class="subtitle">
                    Steady, reliable support through your body's <strong>changing rhythms</strong> ‚Äî<br>
    for anyone who's ever felt their body sending signals they couldn't decode.
                </p>
                <div class="cta-buttons">
                    <a href="#waitlist" class="btn-primary">Join the Waitlist for Empathetic Support ‚Üí</a>
                    <a href="#demo-placeholder" class="btn-secondary">üìπ Watch Demo (60s)</a>
                </div>
                <p class="hero-note">Be among the first to experience health that <em>senses</em> you.</p>
            </div>
<!-- ANKIETA Z ZAPISEM DANYCH I PRZYCISKIEM WYNIK√ìW -->
<div id="aegisens-vote-widget" style="margin-top: 2rem; padding: 1.8rem; background: linear-gradient(135deg, rgba(159, 122, 234, 0.05) 0%, rgba(224, 122, 154, 0.05) 100%); border-radius: 18px; border: 2px solid #E07A9A; text-align: center; box-shadow: 0 8px 25px rgba(0,0,0,0.04); position: relative;">
    <h3 style="color: #2d3748; margin-bottom: 8px; font-size: 1.5rem; font-weight: 700;">üó≥Ô∏è Shape Our 2026 Roadmap</h3>
    <p style="color: #4a5568; margin-bottom: 1.5rem; font-size: 1rem; line-height: 1.4;">Kliknij sw√≥j najwiƒôkszy zdrowotny problem. Zobacz wyniki spo≈Çeczno≈õci w czasie rzeczywistym.</p>
    
    <div id="vote-options-container" style="max-width: 550px; margin: 0 auto;">
        <!-- Opcje pojawiƒÖ siƒô tutaj -->
    </div>

    <!-- PRZYCISK "POKA≈ª WSZYSTKIE WYNIKI" -->
    <div id="results-toggle" style="margin-top: 20px; display: none;">
        <button id="toggle-results-btn" style="background: #9F7AEA; color: white; border: none; padding: 10px 20px; border-radius: 8px; cursor: pointer; font-size: 0.9rem; font-weight: 600; transition: all 0.3s;">
            üìä Poka≈º szczeg√≥≈Çowe wyniki
        </button>
    </div>

    <!-- PANEL SZCZEG√ì≈ÅOWYCH WYNIK√ìW -->
    <div id="detailed-results" style="max-width: 550px; margin: 25px auto 0; display: none; background: rgba(255, 255, 255, 0.9); border-radius: 12px; padding: 20px; border: 1px solid #e2e8f0;">
        <h4 style="color: #2d3748; margin-bottom: 15px; font-size: 1.1rem; display: flex; align-items: center; gap: 8px;">
            üìà Szczeg√≥≈Çowe statystyki
            <span id="total-votes" style="margin-left: auto; font-size: 0.9rem; color: #718096;"></span>
        </h4>
        
        <div id="results-chart" style="margin-bottom: 15px;">
            <!-- Wykres pojawi siƒô tutaj -->
        </div>
        
        <div id="results-table" style="font-size: 0.9rem;">
            <!-- Tabela wynik√≥w pojawi siƒô tutaj -->
        </div>
        
        <div style="margin-top: 15px; padding-top: 15px; border-top: 1px dashed #e2e8f0; text-align: center;">
            <button id="export-data-btn" style="background: #68D391; color: white; border: none; padding: 8px 16px; border-radius: 6px; cursor: pointer; font-size: 0.85rem; margin-right: 10px;">
                üíæ Eksportuj dane
            </button>
            <button id="reset-votes-btn" style="background: #FC8181; color: white; border: none; padding: 8px 16px; border-radius: 6px; cursor: pointer; font-size: 0.85rem;">
                üîÑ Resetuj g≈Çosy (test)
            </button>
        </div>
    </div>

    <p style="font-size: 0.85rem; color: #a0aec0; margin-top: 1.5rem; line-height: 1.3;"><em>Kliknij, aby zag≈Çosowaƒá. Jeden g≈Ços na osobƒô. Wyniki aktualizujƒÖ siƒô na ≈ºywo.</em></p>
</div>

<script>
// ========== KONFIGURACJA ==========
const POLL_ID = 'health_mystery_poll_2024'; // Unikalne ID ankiety
const SAVE_TO_SERVER = false; // Ustaw na true, aby wysy≈Çaƒá na serwer
const SERVER_URL = 'https://tw√≥j-serwer.com/api/save-vote'; // Tw√≥j endpoint

// ========== DANE ANKIETY ==========
let voteOptions = [
    { id: 'energy', label: 'üëÇ Nieprzewidywalne spadki energii', votes: 42, color: '#E07A9A' },
    { id: 'menopause', label: 'üçÉ Okres przedmenopauzalny', votes: 38, color: '#9F7AEA' },
    { id: 'vulnerable', label: 'ü•ó ZarzƒÖdzanie "wra≈ºliwym dniem"', votes: 55, color: '#F687B3' },
    { id: 'mood', label: 'üòå Wahania nastroju', votes: 27, color: '#81E6D9' },
    { id: 'other', label: 'üí≠ Inny problem zdrowotny', votes: 15, color: '#68D391' }
];

// ========== SYSTEM ZAPISU DANYCH ==========
class DataSaver {
    constructor(pollId) {
        this.pollId = pollId;
        this.storageKey = `poll_data_${pollId}`;
        this.initializeData();
    }
    
    // 1. Inicjalizacja danych z localStorage
    initializeData() {
        const saved = localStorage.getItem(this.storageKey);
        if (saved) {
            try {
                const parsed = JSON.parse(saved);
                // Aktualizuj dane, zachowujƒÖc strukturƒô
                voteOptions = voteOptions.map(opt => {
                    const savedOpt = parsed.find(o => o.id === opt.id);
                    return savedOpt ? { ...opt, votes: savedOpt.votes } : opt;
                });
                console.log('Za≈Çadowano zapisane dane:', parsed);
            } catch (e) {
                console.error('B≈ÇƒÖd ≈Çadowania danych:', e);
            }
        }
        this.saveToLocal();
    }
    
    // 2. Zapis do localStorage
    saveToLocal() {
        localStorage.setItem(this.storageKey, JSON.stringify(voteOptions));
        console.log('Zapisano lokalnie:', voteOptions);
    }
    
    // 3. Wys≈Çanie na serwer (je≈õli SAVE_TO_SERVER = true)
    async saveToServer(optionId, userData = {}) {
        if (!SAVE_TO_SERVER) return;
        
        const voteData = {
            pollId: this.pollId,
            optionId: optionId,
            timestamp: new Date().toISOString(),
            userAgent: navigator.userAgent,
            ...userData
        };
        
        try {
            const response = await fetch(SERVER_URL, {
                method: 'POST',
                headers: { 'Content-Type': 'application/json' },
                body: JSON.stringify(voteData)
            });
            
            if (response.ok) {
                console.log('G≈Ços wys≈Çany na serwer:', voteData);
                return true;
            }
        } catch (error) {
            console.error('B≈ÇƒÖd wysy≈Çania na serwer:', error);
        }
        return false;
    }
    
    // 4. Eksport danych do JSON
    exportData() {
        const data = {
            pollId: this.pollId,
            lastUpdated: new Date().toISOString(),
            totalVotes: this.getTotalVotes(),
            options: voteOptions
        };
        
        const blob = new Blob([JSON.stringify(data, null, 2)], { type: 'application/json' });
        const url = URL.createObjectURL(blob);
        const a = document.createElement('a');
        a.href = url;
        a.download = `wyniki-ankiety-${this.pollId}-${new Date().toISOString().split('T')[0]}.json`;
        document.body.appendChild(a);
        a.click();
        document.body.removeChild(a);
        URL.revokeObjectURL(url);
        
        console.log('Dane wyeksportowane:', data);
    }
    
    // 5. Reset danych (tylko dla test√≥w)
    resetData() {
        if (confirm('Czy na pewno chcesz zresetowaƒá wszystkie g≈Çosy? To tylko dla test√≥w!')) {
            voteOptions = voteOptions.map(opt => ({ ...opt, votes: 0 }));
            localStorage.removeItem(this.storageKey);
            localStorage.removeItem(`${this.pollId}_hasVoted`);
            console.log('Dane zresetowane');
            return true;
        }
        return false;
    }
    
    getTotalVotes() {
        return voteOptions.reduce((sum, opt) => sum + opt.votes, 0);
    }
}

// ========== G≈Å√ìWNA LOGIKA ==========
document.addEventListener('DOMContentLoaded', function() {
    const container = document.getElementById('vote-options-container');
    const resultsToggle = document.getElementById('results-toggle');
    const detailedResults = document.getElementById('detailed-results');
    const toggleResultsBtn = document.getElementById('toggle-results-btn');
    const exportBtn = document.getElementById('export-data-btn');
    const resetBtn = document.getElementById('reset-votes-btn');
    
    const dataSaver = new DataSaver(POLL_ID);
    let userVoted = localStorage.getItem(`${POLL_ID}_hasVoted`);
    
    // 1. Funkcje pomocnicze
    function calculatePercentages() {
        const total = dataSaver.getTotalVotes();
        voteOptions.forEach(opt => {
            opt.percentage = total > 0 ? Math.round((opt.votes / total) * 100) : 0;
        });
    }
    
    function updateTotalVotesDisplay() {
        const totalEl = document.getElementById('total-votes');
        if (totalEl) {
            totalEl.textContent = `≈ÅƒÖcznie: ${dataSaver.getTotalVotes()} g≈Ços√≥w`;
        }
    }
    
    // 2. Rysowanie opcji g≈Çosowania
    function renderPoll() {
        calculatePercentages();
        container.innerHTML = '';
        
        voteOptions.forEach(option => {
            const optionEl = document.createElement('div');
            optionEl.className = 'vote-option';
            optionEl.style.cssText = `
                margin-bottom: 15px;
                text-align: left;
                cursor: ${userVoted ? 'default' : 'pointer'};
                transition: all 0.2s;
            `;
            
            // Przycisk g≈Çosowania
            const button = document.createElement('div');
            button.style.cssText = `
                display: flex;
                justify-content: space-between;
                align-items: center;
                padding: 14px 16px;
                background: white;
                border-radius: 10px;
                border: 1.5px solid ${userVoted ? (option.votes > 0 ? option.color : '#e2e8f0') : '#e2e8f0'};
                font-weight: 600;
                color: #2d3748;
                margin-bottom: 6px;
                font-size: 0.95rem;
                transition: all 0.2s;
            `;
            
            button.innerHTML = `
                <span>${option.label}</span>
                <span style="color: ${option.color}; font-weight: bold;">
                    ${option.percentage}% <span style="opacity: 0.7; font-size: 0.85rem;">(${option.votes})</span>
                </span>
            `;
            
            // Pasek postƒôpu
            const progressBar = document.createElement('div');
            progressBar.style.cssText = `
                height: 10px;
                background: #f1f5f9;
                border-radius: 5px;
                overflow: hidden;
                display: ${userVoted ? 'block' : 'none'};
            `;
            
            const progressFill = document.createElement('div');
            progressFill.style.cssText = `
                height: 100%;
                width: ${option.percentage}%;
                background: linear-gradient(90deg, ${option.color}, ${option.color}99);
                border-radius: 5px;
                transition: width 1s ease-out;
            `;
            
            progressBar.appendChild(progressFill);
            
            // Obs≈Çuga klikniƒôcia
            if (!userVoted) {
                optionEl.addEventListener('click', async function() {
                    // Dodaj g≈Ços lokalnie
                    option.votes += 1;
                    userVoted = true;
                    localStorage.setItem(`${POLL_ID}_hasVoted`, 'true');
                    
                    // Zapisz dane
                    dataSaver.saveToLocal();
                    
                    // Wy≈õlij na serwer (je≈õli w≈ÇƒÖczone)
                    const serverSuccess = await dataSaver.saveToServer(option.id, {
                        ip: await getClientIP()
                    });
                    
                    // Poka≈º komunikat
                    showMessage(option, serverSuccess);
                    
                    // Od≈õwie≈º widok
                    setTimeout(() => {
                        renderPoll();
                        renderDetailedResults();
                        updateTotalVotesDisplay();
                        
                        // Poka≈º przycisk "Poka≈º wyniki"
                        resultsToggle.style.display = 'block';
                    }, 300);
                });
                
                // Efekty hover
                optionEl.addEventListener('mouseenter', function() {
                    button.style.borderColor = option.color;
                    button.style.boxShadow = `0 3px 8px ${option.color}30`;
                    button.style.transform = 'translateY(-2px)';
                });
                
                optionEl.addEventListener('mouseleave', function() {
                    button.style.borderColor = '#e2e8f0';
                    button.style.boxShadow = 'none';
                    button.style.transform = 'translateY(0)';
                });
            }
            
            optionEl.appendChild(button);
            optionEl.appendChild(progressBar);
            container.appendChild(optionEl);
        });
        
        // Poka≈º przycisk wynik√≥w je≈õli ju≈º g≈Çosowano
        if (userVoted) {
            resultsToggle.style.display = 'block';
        }
    }
    
    // 3. Szczeg√≥≈Çowe wyniki
    function renderDetailedResults() {
        const chartContainer = document.getElementById('results-chart');
        const tableContainer = document.getElementById('results-table');
        
        // Sortuj od najwiƒôkszej liczby g≈Ços√≥w
        const sortedOptions = [...voteOptions].sort((a, b) => b.votes - a.votes);
        
        // Tworzenie wykresu
        chartContainer.innerHTML = '';
        sortedOptions.forEach(opt => {
            const bar = document.createElement('div');
            bar.style.cssText = `
                margin-bottom: 12px;
                display: flex;
                align-items: center;
            `;
            
            bar.innerHTML = `
                <div style="width: 100px; font-size: 0.85rem; color: #4a5568;">${opt.label.split(' ')[0]} ${opt.label.split(' ')[1] || ''}</div>
                <div style="flex: 1; margin-left: 10px;">
                    <div style="height: 20px; background: #e2e8f0; border-radius: 10px; overflow: hidden; position: relative;">
                        <div style="height: 100%; width: ${opt.percentage}%; background: linear-gradient(90deg, ${opt.color}, ${opt.color}99); border-radius: 10px; transition: width 1s;"></div>
                        <div style="position: absolute; right: 8px; top: 0; height: 100%; display: flex; align-items: center; font-size: 0.8rem; font-weight: bold; color: #2d3748;">
                            ${opt.percentage}%
                        </div>
                    </div>
                </div>
                <div style="width: 50px; text-align: right; font-size: 0.85rem; font-weight: bold; color: ${opt.color}; margin-left: 10px;">
                    ${opt.votes}
                </div>
            `;
            
            chartContainer.appendChild(bar);
        });
        
        // Tworzenie tabeli
        tableContainer.innerHTML = `
            <table style="width: 100%; border-collapse: collapse; font-size: 0.85rem;">
                <thead>
                    <tr style="border-bottom: 2px solid #e2e8f0;">
                        <th style="text-align: left; padding: 8px; color: #718096;">Opcja</th>
                        <th style="text-align: center; padding: 8px; color: #718096;">G≈Çosy</th>
                        <th style="text-align: center; padding: 8px; color: #718096;">Procent</th>
                        <th style="text-align: right; padding: 8px; color: #718096;">Udzia≈Ç</th>
                    </tr>
                </thead>
                <tbody>
                    ${sortedOptions.map(opt => `
                        <tr style="border-bottom: 1px solid #f1f5f9;">
                            <td style="padding: 10px 8px; color: #2d3748;">
                                <div style="display: flex; align-items: center; gap: 8px;">
                                    <div style="width: 12px; height: 12px; border-radius: 50%; background: ${opt.color};"></div>
                                    ${opt.label}
                                </div>
                            </td>
                            <td style="text-align: center; padding: 10px 8px; font-weight: bold; color: ${opt.color};">${opt.votes}</td>
                            <td style="text-align: center; padding: 10px 8px;">${opt.percentage}%</td>
                            <td style="text-align: right; padding: 10px 8px;">
                                <div style="width: 60px; height: 6px; background: #e2e8f0; border-radius: 3px; display: inline-block;">
                                    <div style="height: 100%; width: ${opt.percentage}%; background: ${opt.color}; border-radius: 3px;"></div>
                                </div>
                            </td>
                        </tr>
                    `).join('')}
                </tbody>
            </table>
        `;
        
        updateTotalVotesDisplay();
    }
    
    // 4. Funkcje pomocnicze
    function showMessage(option, serverSuccess = false) {
        const messages = {
            energy: "üëÇ Dziƒôkujemy! Spadki energii sƒÖ naszym priorytetem #1.",
            menopause: "üçÉ Dziƒôkujemy! Menopauza to kluczowy modu≈Ç.",
            vulnerable: "ü•ó Dziƒôkujemy! 'Wra≈ºliwy dzie≈Ñ' to sedno naszej metody.",
            mood: "üòå Dziƒôkujemy! Wahania nastroju to rdze≈Ñ naszego AI.",
            other: "üí≠ Dziƒôkujemy za TwojƒÖ osobistƒÖ historiƒô!"
        };
        
        const messageBox = document.createElement('div');
        messageBox.style.cssText = `
            text-align: center;
            margin-top: 20px;
            padding: 15px;
            background: linear-gradient(135deg, ${option.color}15, ${option.color}05);
            border-radius: 10px;
            border-left: 4px solid ${option.color};
            color: #2d3748;
            font-weight: 500;
            animation: fadeIn 0.5s;
        `;
        
        let message = messages[option.id] || 'Dziƒôkujemy za Tw√≥j g≈Ços!';
        if (SAVE_TO_SERVER && serverSuccess) {
            message += ' ‚úì Dane zapisane na serwerze';
        }
        
        messageBox.textContent = message;
        container.appendChild(messageBox);
    }
    
    async function getClientIP() {
        try {
            const response = await fetch('https://api.ipify.org?format=json');
            const data = await response.json();
            return data.ip;
        } catch {
            return 'unknown';
        }
    }
    
    // 5. Event listeners
    toggleResultsBtn.addEventListener('click', function() {
        if (detailedResults.style.display === 'none') {
            detailedResults.style.display = 'block';
            toggleResultsBtn.textContent = '‚ñ≤ Ukryj szczeg√≥≈Çowe wyniki';
            toggleResultsBtn.style.background = '#4FD1C7';
        } else {
            detailedResults.style.display = 'none';
            toggleResultsBtn.textContent = 'üìä Poka≈º szczeg√≥≈Çowe wyniki';
            toggleResultsBtn.style.background = '#9F7AEA';
        }
    });
    
    exportBtn.addEventListener('click', function() {
        dataSaver.exportData();
        exportBtn.textContent = '‚úì Wyeksportowano!';
        setTimeout(() => {
            exportBtn.textContent = 'üíæ Eksportuj dane';
        }, 2000);
    });
    
    resetBtn.addEventListener('click', function() {
        if (dataSaver.resetData()) {
            userVoted = null;
            renderPoll();
            detailedResults.style.display = 'none';
            resultsToggle.style.display = 'none';
            toggleResultsBtn.textContent = 'üìä Poka≈º szczeg√≥≈Çowe wyniki';
            toggleResultsBtn.style.background = '#9F7AEA';
            alert('Dane zresetowane! Mo≈ºesz teraz przetestowaƒá g≈Çosowanie ponownie.');
        }
    });
    
    // 6. Inicjalizacja
    renderPoll();
    renderDetailedResults();
    
    // Dodaj styl dla animacji
    const style = document.createElement('style');
    style.textContent = `
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }
        #toggle-results-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(159, 122, 234, 0.3);
        }
        #export-data-btn:hover, #reset-votes-btn:hover {
            opacity: 0.9;
            transform: translateY(-1px);
        }
    `;
    document.head.appendChild(style);
});
</script>
<!-- WAITLIST CARD WITH LIVE COUNTER -->
            <div class="waitlist-card" id="waitlist">
                <h3>‚ú® Join Our Private Beta</h3>
                <p>Limited spots available for empathetic health pioneers.</p>

                <!-- LIVE COUNTER -->
                <div class="counter-container">
                    <div class="counter-number" id="waitlist-counter">284</div>
                    <div class="counter-label">pioneers already joined</div>
                    <div class="counter-incentive">
                        <i class="fas fa-gift"></i> First 200 receive a <strong>free personalized insights report</strong>.
                    </div>
                </div>

                <!-- WAITLIST FORM -->
                <form id="waitlist-form" onsubmit="event.preventDefault(); handleWaitlistSubmit();">
                    <input type="email" name="email" placeholder="Your email" id="waitlist-email">
<button onclick="submitWaitlist()">Secure My Spot</button>
                </form>
                <p class="form-note">‚úÖ No spam. üîí Privacy-first. Unsubscribe anytime.</p>
            </div>
        </div>
    </section>

    <!-- VIDEO DEMO PLACEHOLDER -->
    <section id="demo-placeholder" class="section">
        <div class="container">
            <div class="demo-icon"><i class="fas fa-video"></i></div>
            <h2>See Aegisens in Action</h2>
            <p class="demo-placeholder-text">Our 60-second demo video is coming soon. It will show you exactly how our AI predicts your "Vulnerable Day" and offers empathetic guidance.</p>
            <p><em>Check back here in the next 24 hours!</em></p>
        </div>
    </section>

    <!-- VISION SECTION -->
    <section id="vision" class="section">
        <div class="container">
            <h2>üöÄ The Aegisens Vision</h2>
            <div class="vision-grid">
                <div class="vision-card">
                    <div class="vision-icon">üç≤</div>
                    <!-- UPDATED HEADLINE -->
                    <h3>Hormonal Harmony: support through menstruation, perimenopause, menopause and beyond.</h3>
                    <p>Personalized support for women's health through every life stage.</p>
                    <div class="launch-tag">Launch: Q4 2026</div>
                </div>
                <div class="vision-card">
                    <div class="vision-icon">üë•</div>
                    <h3>Health Community</h3>
                    <p>Connect with people sharing similar health journeys. Exchange experiences and support.</p>
                    <div class="launch-tag">Launch: Q3 2026</div>
                </div>
                <div class="vision-card">
                    <div class="vision-icon">üå∏</div>
                    <h3>AI-Powered Nutrition</h3>
                    <p>Meals tailored to your real-time health needs, delivered when you need them most.</p>
                    <div class="launch-tag">Launch: Q2 2026</div>
                </div>
            </div>
            <p style="text-align: center; color: #a0aec0; margin-top: 2rem; font-style: italic;">
                Future feature: Verified restaurants + AI = meals tailored to YOUR health needs
                <p style="text-align: center; color: #9bc8d6; margin-top: 1.5rem; font-size: 1.05rem; font-weight: 500;">
    A platform for understanding your body's unique language, <span style="color: #ffb8d9;">starting with hormonal health.</span>
</p>
            </p>
        </div>
    </section>

    <!-- FOUNDER SECTION -->
    <section id="founder" class="founder-section">
        <div class="container founder-container">
            <div class="founder-image">
                <div class="avatar" style="width: 150px; height: 150px; border-radius: 50%; overflow: hidden;">
                <img src="/image/founder.jpg" alt="Aegisens Founder" 
                     style="width: 100%; height: 105%; object-fit: cover;">
            </div>
                <h3>Kati</h3>
                <p style="color: #ffb8d9;">Founder & Vision Keeper</p>
            </div>
            <div class="founder-info">
                <h3>Meet Your Guide</h3>
                <div class="title">The Heart Behind Aegisens</div>
<div class="founder-bio">
                    <p>Hello, I'm Kati. For over a decade, I've navigated the complex intersection of health and technology, witnessing firsthand how data often overshadows the human story.</p>
                    <p>Aegisens was born from a simple, powerful truth: health is not a metric to be tracked, but a rhythm to be understood. It's the fusion of my professional journey in health-tech and a personal mission to build technology that doesn't just collect data, but truly listens‚Äîto your voice, your body's whispers, and your life's phases.</p>
                    <p>My role here is not just as a founder, but as your partner and the guardian of our core promise: to create a space where you are sensed, not just scanned. Where technology empowers with empathy, guiding you through every changing day so you never have to figure it out alone.</p>
                    <p>The technology behind this vision is built by a former Google Health AI lead, with decades of experience in making systems not just smart, but deeply perceptive to human nuance.</p>
    <p>This is more than an app; it's a new way of being with yourself. I'm here to build it with you.</p>
                </div>
            </div>
        </div>
    </section>

<!-- FOOTER -->
<footer class="footer">
    <div class="container">
        <div class="footer-links">
            <a href="mailto:aegisenshealth@gmail.com">Contact</a>
            <a href="privacy-policy.html">Privacy</a>
            <a href="terms-of-service.html">Terms</a>
        </div>
        <p>¬© 2025 Aegisens. "Health That Senses You" ‚Äì All visions reserved.</p>
        <p style="font-size: 0.9rem; margin-top: 1rem; color: #718096;">Stealth mode. Building the future with care.</p>
    </div>
</footer>

<script>
// =================== KONFIGURACJA ===================
var targetEmail = 'aegisenshealth@gmail.com';
var buttonColor = '#E07A9A';
var toastDuration = 10000; // 10 SEKUND (by przeczytaƒá)

// =================== FUNKCJA TOAST ===================
function showAegisensToast(userEmail) {
    var namePart = userEmail.split('@')[0];
    var friendlyName = namePart.charAt(0).toUpperCase() + namePart.slice(1);
    var toastHTML = '<div id="aegisensToast" style="position:fixed; top:30px; right:30px; z-index:10000; background:linear-gradient(135deg,#667eea 0%,#764ba2 100%); color:white; padding:20px 25px; border-radius:16px; max-width:350px; box-shadow:0 10px 30px rgba(0,0,0,0.15); font-family:-apple-system, BlinkMacSystemFont, sans-serif; border-left:5px solid ' + buttonColor + '; transform:translateX(400px); opacity:0; transition:transform 0.5s, opacity 0.5s;"><div style="font-size:18px; font-weight:bold; margin-bottom:5px;"><span style="margin-right:10px;">ü´Ä</span> Got it, ' + friendlyName + '!</div><div style="font-size:14px; line-height:1.5;">Your spot is secure. <strong>Welcome to the health revolution.</strong><br><br><em>Test confirmation sent. Real invites: Jan 2!</em></div><div style="margin-top:12px; font-size:12px; opacity:0.7; border-top:1px solid rgba(255,255,255,0.2); padding-top:8px;">With care, The Aegisens Team</div></div>';
    var tempDiv = document.createElement('div');
    tempDiv.innerHTML = toastHTML;
    document.body.appendChild(tempDiv.firstChild);
    var toastEl = document.getElementById('aegisensToast');
    setTimeout(function() { toastEl.style.opacity = '1'; toastEl.style.transform = 'translateX(0)'; }, 10);
    setTimeout(function() { toastEl.style.opacity = '0'; toastEl.style.transform = 'translateX(400px)'; setTimeout(function() { if(toastEl.parentNode) toastEl.parentNode.removeChild(toastEl); }, 500); }, toastDuration); // U≈ªYWAMY D≈ÅU≈ªSZEGO CZASU
}

// =================== OBS≈ÅUGA FORMULARZA ===================
function handleFormSubmit(event) {
    event.preventDefault();
    var emailField = event.target.querySelector('input[type="email"]');
    var userEmail = emailField.value.trim();
    if (!userEmail || userEmail.indexOf('@') < 0) { alert('Please enter a valid email.'); return false; }
    // 1. POKA≈ª TOAST
    showAegisensToast(userEmail);
    // 2. WY≈öLIJ TEST MAIL
    var formData = new FormData();
    formData.append('user_email', userEmail);
    formData.append('target_email', targetEmail);
    fetch('https://formsubmit.co/ajax/' + targetEmail, { method: 'POST', body: formData, headers: { 'Accept': 'application/json' } }).then(function(r) { return r.json(); }).then(function(data) { console.log('Test email sent to Aegisens inbox.'); }).catch(function(e) { console.warn('Test email failed (but form worked). OK for test.'); });
    // 3. WYCZY≈öƒÜ POLE
    emailField.value = '';
    return false;
}

// =================== START PO ZA≈ÅADOWANIU STRONY ===================
document.addEventListener('DOMContentLoaded', function() {
    // --- LIVE COUNTER z tekstem "waitlist growing daily" ---
    var counterNum = document.getElementById('waitlist-counter');
    var counterLab = document.querySelector('.counter-label');
    if (counterNum && counterLab) {
        var count = 284;
        counterNum.textContent = count + '+';
        counterLab.innerHTML = 'pioneers joined ‚Äì <strong style="color:' + buttonColor + '">waitlist growing daily!</strong>';
        setInterval(function() { count += Math.floor(Math.random() * 3) + 1; counterNum.textContent = count + '+'; }, 30000);
    }

    // --- DODANIE NAG≈Å√ìWKA "JOIN NOW!" NAD FORMULARZEM ---
    // Szukamy kontenera formularza (mo≈ºe byƒá div z klasƒÖ .ml-form-embedContent lub rodzic form)
    var formContainer = document.querySelector('.ml-form-embedContent, form#waitlist-form, form[action*="formsubmit"]');
if (formContainer) {
        var joinNowHeader = document.createElement('div');
        joinNowHeader.innerHTML = '<div style="text-align: center; margin-bottom: 20px; font-size: 1.5rem; font-weight: 800; color: ' + buttonColor + '; text-transform: uppercase; letter-spacing: 1px;">Join Now!</div>';
        // Wstawiamy nag≈Ç√≥wek przed formularzem
        formContainer.parentNode.insertBefore(joinNowHeader, formContainer);
        console.log('Aegisens: "JOIN NOW!" header added.');
    }

    // --- POD≈ÅƒÑCZENIE FORMULARZA ---
    var form = document.getElementById('waitlist-form'); // ZMIE≈É ID TUTAJ JE≈öLI TRZEBA!
    if (form) {
        form.addEventListener('submit', handleFormSubmit);
        console.log('Aegisens Test Form: Ready! Emails to:', targetEmail);
    } else {
        console.warn('Aegisens Test Form: Form not found. Current ID: waitlist-form');
    }

    // --- R√ì≈ªOWY PRZYCISK CTA ---
    var btn = document.querySelector('a[href*="#"], .button, button');
    if (btn) { btn.style.backgroundColor = buttonColor; btn.style.borderColor = buttonColor; }
});
</script>
</body>
</html>
